import math

import inline
import matplotlib
import numpy as np
import matplotlib.pyplot as plt

racing_track = []
radius_direction = []
steering = []

def caculate():
    racing_track = [[8.4655, 3.04384, 3.79703, 0.04636],
                    [8.2911, 3.08753, 4.03177, 0.04459],
                    [8.11093, 3.12333, 4.31426, 0.04258],
                    [7.92555, 3.15175, 4.5, 0.04168],
                    [7.73559, 3.17344, 4.5, 0.04249],
                    [7.54189, 3.18913, 4.5, 0.04318],
                    [7.34559, 3.19971, 4.5, 0.04369],
                    [7.14818, 3.20618, 4.5, 0.04389],
                    [6.95097, 3.2097, 4.5, 0.04383],
                    [6.75394, 3.21147, 4.5, 0.04379],
                    [6.55693, 3.21193, 4.5, 0.04378],
                    [6.35987, 3.21134, 4.5, 0.04379],
                    [6.16274, 3.20998, 4.5, 0.04381],
                    [5.96553, 3.2081, 4.5, 0.04383],
                    [5.76825, 3.20596, 4.5, 0.04384],
                    [5.57029, 3.20367, 4.5, 0.04399],
                    [5.37092, 3.20156, 4.5, 0.04431],
                    [5.17104, 3.19962, 4.5, 0.04442],
                    [4.97091, 3.19786, 4.5, 0.04448],
                    [4.7706, 3.19627, 4.5, 0.04451],
                    [4.57017, 3.19486, 4.5, 0.04454],
                    [4.36964, 3.19361, 4.5, 0.04456],
                    [4.16905, 3.19249, 4.5, 0.04458],
                    [3.96839, 3.19154, 4.5, 0.04459],
                    [3.76765, 3.19076, 4.5, 0.04461],
                    [3.56686, 3.19018, 4.5, 0.04462],
                    [3.36602, 3.1898, 4.5, 0.04463],
                    [3.16514, 3.18963, 4.5, 0.04464],
                    [2.96421, 3.1899, 4.5, 0.04465],
                    [2.76322, 3.19082, 4.5, 0.04466],
                    [2.56221, 3.19262, 3.98505, 0.05044],
                    [2.36123, 3.19551, 3.47738, 0.0578],
                    [2.16183, 3.19968, 3.11796, 0.06397],
                    [1.97022, 3.19976, 2.84697, 0.0673],
                    [1.78502, 3.19317, 2.63102, 0.07044],
                    [1.60672, 3.17777, 2.45324, 0.07295],
                    [1.43604, 3.15192, 2.1449, 0.08048],
                    [1.27371, 3.11439, 2.1449, 0.07768],
                    [1.12057, 3.06424, 2.1449, 0.07513],
                    [0.97767, 3.00084, 2.1449, 0.07289],
                    [0.84639, 2.92381, 2.1449, 0.07097],
                    [0.7307, 2.83126, 2.161, 0.06856],
                    [0.63104, 2.72589, 2.1761, 0.06665],
                    [0.54774, 2.61008, 2.1872, 0.06523],
                    [0.48106, 2.48589, 2.19709, 0.06416],
                    [0.43122, 2.35519, 2.20568, 0.06342],
                    [0.39839, 2.2197, 2.21414, 0.06296],
                    [0.38277, 2.08107, 2.21577, 0.06296],
                    [0.3846, 1.94087, 2.21577, 0.06328],
                    [0.40415, 1.80072, 2.21577, 0.06386],
                    [0.44174, 1.6623, 2.21577, 0.06473],
                    [0.49782, 1.52748, 2.21577, 0.0659],
                    [0.57293, 1.39839, 2.36555, 0.06314],
                    [0.66508, 1.27621, 2.46994, 0.06196],
                    [0.77324, 1.16203, 2.58643, 0.06081],
                    [0.89646, 1.05673, 2.71797, 0.05963],
                    [1.03382, 0.96098, 2.865, 0.05844],
                    [1.18445, 0.87528, 3.03612, 0.05708],
                    [1.34742, 0.79999, 3.24131, 0.05539],
                    [1.52163, 0.73518, 3.49312, 0.05321],
                    [1.70556, 0.68073, 3.80908, 0.05036],
                    [1.89691, 0.63615, 4.21776, 0.04658],
                    [2.09241, 0.6006, 4.5, 0.04416],
                    [2.28927, 0.57253, 4.5, 0.04419],
                    [2.4865, 0.55049, 4.5, 0.0441],
                    [2.68373, 0.53392, 4.5, 0.04398],
                    [2.88034, 0.52229, 4.5, 0.04377],
                    [3.07578, 0.51504, 4.5, 0.04346],
                    [3.26979, 0.51161, 4.5, 0.04312],
                    [3.46238, 0.51144, 4.5, 0.0428],
                    [3.65368, 0.51402, 4.5, 0.04252],
                    [3.84388, 0.51885, 4.5, 0.04228],
                    [4.03318, 0.52547, 4.5, 0.04209],
                    [4.22181, 0.53342, 4.5, 0.04195],
                    [4.40997, 0.54229, 4.5, 0.04186],
                    [4.59788, 0.55165, 4.5, 0.04181],
                    [4.78004, 0.5605, 4.5, 0.04053],
                    [4.96183, 0.56889, 4.5, 0.04044],
                    [5.14314, 0.57658, 4.5, 0.04033],
                    [5.32389, 0.58337, 4.5, 0.0402],
                    [5.50405, 0.58902, 4.5, 0.04005],
                    [5.68361, 0.59333, 4.5, 0.03991],
                    [5.86259, 0.59609, 4.5, 0.03978],
                    [6.041, 0.59708, 4.5, 0.03965],
                    [6.21887, 0.59609, 4.5, 0.03953],
                    [6.39619, 0.5929, 4.5, 0.03941],
                    [6.57293, 0.58728, 4.5, 0.0393],
                    [6.74906, 0.57899, 4.5, 0.03918],
                    [6.92446, 0.5678, 4.5, 0.03906],
                    [7.09894, 0.55347, 4.5, 0.0389],
                    [7.2726, 0.53682, 4.5, 0.03877],
                    [7.44543, 0.51814, 4.5, 0.03863],
                    [7.61743, 0.49769, 4.5, 0.03849],
                    [7.78863, 0.47571, 4.5, 0.03836],
                    [7.9591, 0.45246, 4.00677, 0.04294],
                    [8.12891, 0.42815, 3.29427, 0.05207],
                    [8.29816, 0.40301, 2.8623, 0.05978],
                    [8.44619, 0.38045, 2.56236, 0.05844],
                    [8.59314, 0.36126, 2.339, 0.06336],
                    [8.73807, 0.34825, 2.15857, 0.06741],
                    [8.8801, 0.34383, 2.01185, 0.07063],
                    [9.01841, 0.34999, 1.88937, 0.07328],
                    [9.15216, 0.36833, 1.88937, 0.07145],
                    [9.28043, 0.40026, 1.88937, 0.06996],
                    [9.40207, 0.44721, 1.88937, 0.06901],
                    [9.51556, 0.51074, 1.88937, 0.06883],
                    [9.6186, 0.59273, 2.0464, 0.06435],
                    [9.71133, 0.69064, 2.0988, 0.06425],
                    [9.79257, 0.80427, 2.15384, 0.06485],
                    [9.86073, 0.93369, 2.20803, 0.06624],
                    [9.91354, 1.07903, 2.26397, 0.06831],
                    [9.948, 1.23974, 2.3214, 0.0708],
                    [9.96063, 1.41295, 2.38035, 0.07296],
                    [9.94905, 1.59192, 2.43918, 0.07353],
                    [9.91379, 1.76793, 2.50006, 0.0718],
                    [9.85788, 1.93484, 2.56516, 0.06862],
                    [9.7848, 2.09017, 2.62825, 0.06531],
                    [9.69731, 2.23345, 2.69416, 0.06231],
                    [9.59744, 2.365, 2.75988, 0.05985],
                    [9.48657, 2.4853, 2.82593, 0.05789],
                    [9.36571, 2.59478, 2.87989, 0.05663],
                    [9.23544, 2.69364, 2.99722, 0.05456],
                    [9.09654, 2.78239, 3.1252, 0.05274],
                    [8.94963, 2.86145, 3.26245, 0.05114],
                    [8.79519, 2.93116, 3.4171, 0.04959],
                    [8.63367, 2.99184, 3.59213, 0.04803]]

    x = []
    y = []
    print(len(racing_track))
    dist_wheels_front_back = 0.165  # meters
    for i in range(len(racing_track)):
        x.append(racing_track[i][0])
        y.append(racing_track[i][1])
        steering.append(math.degrees(math.asin(dist_wheels_front_back / radius_direction[i])))

    print(x)
    print(y)
    print(radius_direction)
    print(steering)
    plt.plot(x, y, label='data1')
    plt.show()

    #


radius_direction = [3.2697964118288785, 3.686595003228812, 4.221307983682801, 4.918258579952136, 5.876014336565653,
                    7.226733936035484, 9.369124826267909, 13.216405772452104, 22.26004074903324, 29.63788991214706,
                    37.276895952217224, 49.841415894763855, 74.78628056148665, 149.67373845561016, 292.81583967249753,
                    -210.54431838450725, -221.6277508417913, -226.62408439135058, -229.14369266735324,
                    -230.05983323496483, -230.09711966951866, -345.1040825703573, -230.3349977861793,
                    -233.12318459521063, -204.26069963027084, -200.94080676410462, -186.5676143153488,
                    -93.07221845988276, -61.88794871093629, -46.25735325478451, -36.872645570049635, -30.57573594964419,
                    9.53617170146556, 5.231817085213307, 3.6016421992076735, 2.7424491197040473, 2.2048210457858572,
                    1.8382293022070275, 1.5699314376438156, 1.3649351357068065, 1.043393613810718, 1.059112314004791,
                    1.0739684105727851, 1.084947924013879, 1.0947825040331371, 1.1033656288302605, 1.111845865699776,
                    1.117356086729632, 1.1221686802227726, 1.1268705240566845, 1.122246103093944, 1.1134856947520655,
                    1.2691068911894947, 1.3835821093273009, 1.5171742639188026, 1.6754152023708775, 1.8615811170411156,
                    2.090599674696236, 2.382728771666857, 2.767331915055407, 3.2905880561878105, 4.034571386309364,
                    5.200556572242067, 6.548147600933608, 7.205875616965855, 7.99170016793719, 8.914072334497943,
                    10.040867432997606, 11.492597314205543, 13.388774063865245, 16.015962392252835, 19.89270205148666,
                    26.185700665400386, 38.288354041342245, 69.7090218488857, -150.30386572745027, -74.36872798228917,
                    -49.32197448230485, -36.88244211019688, -29.43845903185487, -24.457632405468086,
                    -20.863792370136032, -18.131567898970047, -16.000110409737136, -14.271745813603776,
                    -12.847300648567813, -11.60462987657965, -10.537571527966673, -9.632950484265102,
                    -12.831881306108123, -14.372032456060682, -16.22461366964685, -18.60115721278892,
                    -21.734937177262278, -26.06800696813208, -32.32886162616387, -42.49794824861102, 6.958896557573298,
                    3.6410159939726596, 2.4612204538738687, 1.858075788283255, 1.4890640014876495, 1.2407722404035446,
                    1.056734734213649, 0.9179608790885124, 0.8095909103606002, 0.9497595153323326, 0.9990198467494749,
                    1.052103542269283, 1.1057115674979643, 1.1624545195184388, 1.2221762106962595, 1.2850387397548821,
                    1.3493411578418875, 1.4175402619877717, 1.4923183169982546, 1.5666316536375078, 1.6461876745188555,
                    1.7274856459690653, 1.811151639230393, 1.880985990117226, 2.0373771184886937, 2.2150770254984997,
                    2.4139154137862158, 2.6481862642919323, 2.9264301747891035]



caculate()
